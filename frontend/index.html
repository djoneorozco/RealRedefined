<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RealRedefined Quiz</title>
  <!-- Tailwind CDN ‚Äî or swap for your own CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="w-full max-w-lg bg-white p-8 rounded-lg shadow-lg">
    <h1 class="text-3xl font-bold mb-4 text-center">RealRedefined Quiz</h1>
    <p class="text-center mb-6">Click below to test backend connection</p>
    <div class="text-center mb-8">
      <button
        id="test-connection"
        class="bg-brown-600 hover:bg-brown-700 text-white font-semibold py-2 px-4 rounded"
      >
        Test Connection
      </button>
      <p id="connection-status" class="mt-4 text-gray-700"></p>
    </div>

    <hr class="my-6" />

    <h2 class="text-2xl font-semibold mb-4 text-center">AI Interaction</h2>
    <textarea
      id="ai-prompt"
      class="w-full border rounded-lg p-3 mb-4 h-28 resize-none"
      placeholder="Ask me anything..."
    ></textarea>
    <div class="text-center">
      <button
        id="ask-ai"
        class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded"
      >
        Ask AI
      </button>
    </div>
    <div id="ai-response" class="mt-6 bg-gray-100 p-4 rounded-lg text-gray-800"></div>
  </div>

  <script>
    // ‚Üê‚Äî point to your live Render backend
    const BACKEND_URL = 'https://realredefined-1.onrender.com';

    // Test Connection
    document.getElementById('test-connection').addEventListener('click', async () => {
      const statusEl = document.getElementById('connection-status');
      statusEl.textContent = '‚è≥ Testing‚Ä¶';
      try {
        const res = await fetch(`${BACKEND_URL}/`);
        const txt = await res.text();
        statusEl.textContent = '‚úÖ ' + txt;
      } catch (err) {
        statusEl.textContent = '‚ùå Connection failed: ' + err.message;
      }
    });

    // Ask AI
    document.getElementById('ask-ai').addEventListener('click', async () => {
      const prompt = document.getElementById('ai-prompt').value.trim();
      const respEl = document.getElementById('ai-response');
      if (!prompt) return;
      respEl.innerHTML = '<em>ü§ñ Thinking‚Ä¶</em>';
      try {
        const res = await fetch(`${BACKEND_URL}/ask`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ prompt })
        });
        const { answer } = await res.json();
        respEl.textContent = answer;
      } catch (err) {
        respEl.textContent = '‚ùå Error: ' + err.message;
      }
    });
  </script>
</body>
</html>

